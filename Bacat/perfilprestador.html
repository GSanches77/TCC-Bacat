<?php 
    include("InfoPerfilPrestador.php"); 
    ?>
<!DOCTYPE html>
<html>
    <head>
        <title>Bacat</title>
        <link rel="stylesheet" href="bacat.css">
        <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
        <!--espaço pra imagem do site-->    
    </head>

    <body style="background-color: #f7fff6;">
    <div class="conteudo">
        <div style="width: 380px; height: 100%; float: left; position: absolute; margin: 0px; padding: 0px; overflow: hidden; padding-left: 40px;">
            <br>
            <div style="width: 100%; height: 50px;">
                <button onclick="ativarCamposPerf()" style="background-color: #00000000; border: 0px; width: 10%; float: right;">
                </button>
                <h2 style="width: 90%; float: left;">Minha loja</h2>
            </div>
            <div>
                <div style="height: 200px; width: 200px; background-color: rgb(48, 48, 48); border-radius: 100%;">
                    <button type="submit" id="btn_edit" style="background-color: #00000000; border: 0px; float: right;">
                        <img src="data:image/jpeg;base64,<?php echo $imagem_base64; ?>" style="height: 200px; border-radius: 100%;">
                    </button>
                </div>
                <br>
                <input type="text" disabled="disabled" value="<?php echo $prestPerf_nome; ?>" style="border: none; background-color: #00000000; font-size: 20px;" size="255">
                <br>
                <input type="text" disabled="disabled" value="<?php echo $prestPerf_cnpj; ?>" style="border: none; background-color: #00000000; font-size: 16px; color: #a0a0a0;" size="18" maxlength="18" onkeypress="formatar_mascara(this,'##.###.###/####-##')">
                <br>
                <input type="text" disabled="disabled" value="<?php echo $prestPerf_dataNascimento; ?>" style="border: none; background-color: #00000000; font-size: 16px; color: #a0a0a0;" size="10" maxlength="10" onkeypress="formatar_mascara(this,'##/##/####')">
                <br>
                <input type="email" disabled="disabled" value="<?php echo $prestPerf_email; ?>" style="border: none; background-color: #00000000; font-size: 16px; color: #a0a0a0;" size="255">
                <br>
            </div>
                <br>
            <h2>Loja</h2>
            <div>
                <div class="cardEndereco" style="height: 250px; width: 85%; border-radius: 10px; box-shadow: 0px 3px 10px 0px rgba(0, 0, 0, 0.3); background-color: #f7fff6;">
                    <form method="post" action="EditPerfilCliente.php">
                        <input type="text" value="<?php echo $prestPerf_cnpj ?>" name="pfpjperfil" hidden="hidden">   
                        <div style="padding: 15px; width: 200px; float: left;">
                            
                            <div style="width: 100%; height: 20px; float: left; display: flex; justify-content: space-between;">
                                <input type="text" readonly="readonly" value="<?php echo $prestPerf_nome ?>" style="border: none; background-color: #00000000; font-size: 20px;" size="255">
                            </div>
                            <div style="width: 100%; height: 20px; float: left; display: flex; justify-content: space-between;">
                                <div style="float: left; display: flex; width: fit-content;" class="row">
                                    <input id="nomeloja" name="nomeloja" type="text" placeholder="Nome da Loja" class="editEndereco" readonly="readonly" value="<?php echo $prestPerf_nomeloja ?>" style="width: 125px; border: none; background-color: #00000000; font-size: 16px; color: #696969; display: block;" maxlength="36" size="15">
                                </div>
                                <div style="float: left; display: flex; width: fit-content;" class="row">
                                    <p style="width: 10px; margin: 0px; background-color: #00000000; font-size: 16px; color: #696969; display: block;">-</p>
                                </div>
                                <div style="float: left; display: flex; width: fit-content;" class="row">
                                    <input id="tipoloja" name="tipoloja" type="text" placeholder="Tipo da Loja" class="editEndereco" readonly="readonly" value="<?php echo $prestPerf_tipo ?>" style="width: 125px; border: none; background-color: #00000000; font-size: 16px; color: #696969; display: block;" size="5">
                                </div>    
                            </div>
                            <div style="width: 100%; height: 20px; float: left; display: flex; justify-content: space-between;">
                                <div style="float: left; display: flex; width: fit-content;" class="row">
                                    <input type="text" disabled="disabled" value="Descrição:" style="width: 125px; border: none; background-color: #00000000; font-size: 16px; color: #696969; display: block;" maxlength="36" size="15">
                                </div> 
                            </div>
                            <textarea id="descricao" name="descricao" class="editEndereco" readonly="readonly" rows="5" cols="300" style="width: 250px; height: 50px;  border: none; background-color: #72727210; font-size: 160x; color: #696969; display: block;"><?php echo $prestPerf_descricao ?></textarea>
                            <br>

                        
                            <div style="width: 100%; height: 20px; float: left; display: flex; justify-content: space-between;">
                                <input type="text" readonly="readonly" value="Endereço" style="border: none; background-color: #00000000; font-size: 20px;" size="255">
                            </div>
                            <div style="width: 100%; height: 20px; float: left; display: flex; justify-content: space-between;">
                                <div style="float: left; display: flex; width: fit-content;" class="row">
                                    <input id="rua" name="rua" type="text" class="editEndereco" readonly="readonly" value="<?php echo $prestPerf_rua; ?>" style="width: 190px; border: none; background-color: #00000000; font-size: 16px; color: #696969; display: block;" maxlength="36" size="15">
                                </div>
                                <div style="float: left; display: flex; width: fit-content;" class="row">
                                    <input id="num" name="num" type="text" class="editEndereco" readonly="readonly" value="<?php echo $prestPerf_num; ?>" style="width: 60px; border: none; background-color: #00000000; font-size: 16px; color: #696969; display: block;" size="5">
                                </div>    
                            </div>
                            <br>
                            <div style="width: 100%; height: 20px; float: left; display: flex; justify-content: space-between;">
                                <div style="float: left; display: flex; width: fit-content;" class="row">
                                    <input id="estado" name="estado" type="text" class="editEndereco" readonly="readonly" value="<?php echo $prestPerf_estado; ?>" style="border: none; width: 30px; background-color: #00000000; font-size: 16px; color: #696969; display: block;" maxlength="2" size="2" onkeypress="formatar_mascara(this,'##')">
                                </div>
                                <div style="float: left; display: flex; width: fit-content;" class="row">
                                    <p style="width: 10px; margin: 0px; background-color: #00000000; font-size: 16px; color: #696969; display: block;">-</p>
                                </div>
                                <div style="float: left; display: flex; width: fit-content;" class="row">
                                    <input id="cidade" name="cidade" type="text" class="editEndereco" readonly="readonly" value="<?php echo $prestPerf_cidade; ?>" style="border: none; width: 210px; background-color: #00000000; font-size: 16px; color: #696969; display: block;" size="16">
                                </div>    
                            </div>
                            <div style="width: 100%; height: 20px; float: left; display: flex; justify-content: space-between;">
                                <div style="float: left; display: flex; width: fit-content;" class="row">
                                    <input id="cep" name="cep" type="text" class="editEndereco" readonly="readonly" value="<?php echo $prestPerf_cep; ?>" style="border: none; width: 90px; background-color: #00000000; font-size: 16px; color: #696969; display: block;" maxlength="9" size="9" onkeypress="formatar_mascara(this,'#####-###')">
                                </div>  
                            </div>
                        </div>

                            <div style="width: 20px; height: 70px; float: right; padding-top: 10px; padding-right: 15px;">
                                <div id="toggleButton" onclick="toggleCampos()" style="background-color: #00000000; border: 0px; width: 10%; float: right; height: 20px; padding-right: 15px;">
                                    <svg xmlns="http://www.w3.org/2000/svg" height="20px" viewBox="0 0 512 512">
                                        <!--! Font Awesome Free 6.4.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license (Commercial License) Copyright 2023 Fonticons, Inc. -->
                                        <style>svg{fill:#a9c6a6}</style>
                                        <path d="M471.6 21.7c-21.9-21.9-57.3-21.9-79.2 0L362.3 51.7l97.9 97.9 30.1-30.1c21.9-21.9 21.9-57.3 0-79.2L471.6 21.7zm-299.2 220c-6.1 6.1-10.8 13.6-13.5 21.9l-29.6 88.8c-2.9 8.6-.6 18.1 5.8 24.6s15.9 8.7 24.6 5.8l88.8-29.6c8.2-2.7 15.7-7.4 21.9-13.5L437.7 172.3 339.7 74.3 172.4 241.7zM96 64C43 64 0 107 0 160V416c0 53 43 96 96 96H352c53 0 96-43 96-96V320c0-17.7-14.3-32-32-32s-32 14.3-32 32v96c0 17.7-14.3 32-32 32H96c-17.7 0-32-14.3-32-32V160c0-17.7 14.3-32 32-32h96c17.7 0 32-14.3 32-32s-14.3-32-32-32H96z"/>
                                    </svg>
                                </div>
                                <button id="hiddenButton" onclick="desativarCampos()" hidden="hidden" type="submit" style="background-color: #00000000; border: 0px; width: 10%; float: right; height: 20px; padding-top: 10px; padding-right: 15px;">
                                    <svg xmlns="http://www.w3.org/2000/svg" height="20px" viewBox="0 0 448 512">
                                        <!--! Font Awesome Free 6.4.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license (Commercial License) Copyright 2023 Fonticons, Inc. -->
                                        <style>svg{fill:#86bd4c}</style>
                                        <path d="M438.6 105.4c12.5 12.5 12.5 32.8 0 45.3l-256 256c-12.5 12.5-32.8 12.5-45.3 0l-128-128c-12.5-12.5-12.5-32.8 0-45.3s32.8-12.5 45.3 0L160 338.7 393.4 105.4c12.5-12.5 32.8-12.5 45.3 0z"/></svg>
                                </button>
                            </div>
                    </form>     
                    </div>
                </div>
            </div>
        </div>

        <div style="width: 1px; height: 100%; margin-left: 450px; background-color: #5a665b; float: left;"></div>

        <div style="width: 60%; height: 100%; float: right; margin: 0px; padding: 0px; overflow: hidden; padding-left: 40px;">
            <div style="height: 320px; width: 85%; border-radius: 10px; box-shadow: 0px 3px 10px 0px rgba(0, 0, 0, 0.3); background-color: #f7fff6;  margin-top: 30px; margin-bottom: 30px;">
                <div style="padding: 20px;">
                    <div style="height: 50px; width: fit-content; padding-bottom: 20px;">
                        <img src="https://drive.google.com/uc?export=view&id=1Wp4HPGePvGhFPmYsn7sumjDPn_KFWay6" style="height: 50px;">
                        <h2 style="float: right; padding-left: 10px;">★★★★★</h2>
                    </div>
                    <div style="height: 170px; border-style: inset; width: 100%; border-radius: 10px; border-color: #c7dbb2; border-width: 1.5px; padding-top: 20px; padding-bottom: 20px;">
                        <div style="margin-left: 20px; margin-right: 20px;">
                            <p style="overflow: auto;">Melhor manicure da cidade! Simplesmente fez minha mão de um jeito magnífico! Me atendeu na minha casa e foi muito gentil comigo, entrarei em contato novamente! Recomendo.</p>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        
        <div id="popup" class="popup" style="padding-top: 10%;">
            <form action="ImgUpload.php" method="POST" enctype="multipart/form-data">
                <div class="popup-content" style="width: 400px; height: 400px;">
                    <span class="close">&times;</span>
                    <img src="https://drive.google.com/uc?export=view&id=1Wp4HPGePvGhFPmYsn7sumjDPn_KFWay6" style="height: 280px; padding: 60px; padding-bottom: 0px; padding-top: 0px;">
                    <div style="margin-left: 30px;"> 
                        <input type="file" name="imagem" id="imagem">
                        <button type="submit" style="background-color: #00000000; border: 0px;">
                            <svg xmlns="http://www.w3.org/2000/svg" height="30px" viewBox="0 0 512 512">
                                <!--! Font Awesome Free 6.4.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license (Commercial License) Copyright 2023 Fonticons, Inc. -->
                                <style>svg{fill:#86bd4c}</style>
                                <path d="M128 64c0-35.3 28.7-64 64-64H352V128c0 17.7 14.3 32 32 32H512V448c0 35.3-28.7 64-64 64H192c-35.3 0-64-28.7-64-64V336H302.1l-39 39c-9.4 9.4-9.4 24.6 0 33.9s24.6 9.4 33.9 0l80-80c9.4-9.4 9.4-24.6 0-33.9l-80-80c-9.4-9.4-24.6-9.4-33.9 0s-9.4 24.6 0 33.9l39 39H128V64zm0 224v48H24c-13.3 0-24-10.7-24-24s10.7-24 24-24H128zM512 128H384V0L512 128z"/>
                            </svg>
                        </button>
                    </div>
                </div>
            </form> 
        </div>        
    </div>

    </div>  
    </body>
    <!--precisei usar um pedacinho de java pro pop-up aparecer-->

    <script>
        var ativo = false;

    function toggleCampos() {
    var campos = document.querySelectorAll('input[class="editEndereco"]');
    var divs = document.querySelectorAll('.cardEndereco');
    var hiddenButton = document.getElementById('hiddenButton');

    if (ativo) {
        for (var i = 0; i < campos.length; i++) {
            campos[i].readOnly = false; 
        }
        divs.forEach(function (div) {
            div.style.backgroundColor = 'lightgrey';
        });
        hiddenButton.removeAttribute('hidden');
    } else {
        for (var i = 0; i < campos.length; i++) {
            campos[i].readOnly = true; 
        }
        divs.forEach(function (div) {
            div.style.backgroundColor = '#f7fff6';
        });
        hiddenButton.setAttribute('hidden', 'hidden');
    }

    ativo = !ativo;
}

function desativarCampos() {
    var campos = document.querySelectorAll('input[class="editEndereco"]');
    var divs = document.querySelectorAll('.cardEndereco');
    var hiddenButton = document.getElementById('hiddenButton');

    for (var i = 0; i < campos.length; i++) {
            campos[i].disabled = true;
        }
        divs.forEach(function (div) {
            div.style.backgroundColor = '#f7fff6';
        });
        hiddenButton.setAttribute('hidden', 'hidden'); 
    }

        function formatar_mascara(src, mascara) {
            var campo = src.value.length;
            var saida = mascara.substring(0,1);
            var texto = mascara.substring(campo);
            if(texto.substring(0,1) != saida) {
                src.value += texto.substring(0,1);
                }
        }
    
        var popup = document.getElementById("popup");
        
        var btn = document.getElementById("btn_edit");
        
        var span = document.getElementsByClassName("close")[0];
        
        btn.onclick = function() {
        popup.style.display = "block";
        }
        
        span.onclick = function() {
        popup.style.display = "none";
        }
        
        window.onclick = function(event) {
        if (event.target == popup) {
            popup.style.display = "none";
        }
        }
    </script>
</html>